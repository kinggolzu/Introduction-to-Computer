# 3.1 传感器和执行器

　起草人：薛嘉祥 审阅：薛嘉祥

### i.什么是传感器？

**▲传感器（transducer/sensor）**

　　一种检测装置，能检测到被测量的信息，并能将检测到的信息，按一定规律变换成为电信号或其他所需形式的信息输出，以满足信息的传输、处理、存储、显示、记录和控制等要求。

　　国家标准GB7665-87对传感器下的定义：能感受规定的被测量件并按照一定的规律(数学函数法则)转换成可用信号的器件或装置，通常由敏感元件和转换元件组成。



**▲主要特点**

　　传感器的特点包括：微型化、数字化、智能化、多功能化、系统化、网络化，它不仅促进了传统产业的改造和更新换代，而且还可能建立新型工业，从而成为21世纪新的经济增长点。微型化是建立在微电子机械系统（MEMS）技术基础上的，已成功应用在硅器件上做成硅压力传感器。

**▲传感器的组成**

　　传感器一般由敏感元件、转换元件、变换电路和辅助电源四部分组成

　　敏感元件直接感受被测量，并输出与被测量有确定关系的物理量信号；转换元件将敏感元件输出的物理量信号转换为电信号；变换电路负责对转换元件输出的电信号进行放大调制；转换元件和变换电路一般还需要辅助电源供电。

**▲通常根据其基本感知功能分为：**

常将传感器的功能与人类5大感觉器官相比拟：

光敏传感器——视觉

声敏传感器——听觉

气敏传感器——嗅觉

化学传感器——味觉

压敏、温敏、流体传感器——触觉

敏感元件的分类：

物理类，基于力、热、光、电、磁和声等物理效应。

化学类，基于化学反应的原理。

生物类，基于酶、抗体、和激素等分子识别功能。

　　通常据其基本感知功能可分为热敏元件、光敏元件、气敏元件、力敏元件、磁敏元件、湿敏元件、声敏元件、放射线敏感元件、色敏元件和味敏元件等46类。

#### 常用的传感器及其他们的用途. 

**▲称重传感器**

　　一种能够将重力转变为电信号的力→电转换装置，是电子衡器的一个关键部件。
能够实现力→电转换的传感器有多种，常见的有电阻应变式、电磁力式和电容式等。电磁力式主要用于电子天平，电容式用于部分电子吊秤，而绝大多数衡器产品所用的还是电阻应变式称重传感器。电阻应变式称重传感器结构较简单，准确度高，适用面广，且能够在相对比较差的环境下使用。因此电阻应变式称重传感器在衡器中得到了广泛地运用。

**▲热电阻传感器**

　　热电阻测温是基于金属导体的电阻值随温度的增加而增加这一特性来进行温度测量的。
热电阻大都由纯金属材料制成，目前应用最多的是铂和铜，此外，已开始采用镍、锰和铑等材料制造热电阻。用于测量-200℃～+500℃范围内的温度。

   热电阻传感器分类：

     1、NTC热电阻传感器：该类传感器为负温度系数传感器，即传感器阻值随温度的升高而减小。

     2、PTC热电阻传感器：该类传感器为正温度系数传感器，即传感器阻值随温度的升高而增大。

**▲激光传感器**

　　利用激光技术进行测量的传感器。它由激光器、激光检测器和测量电路组成。激光传感器是新型测量仪表，它的优点是能实现无接触远距离测量，速度快，精度高，量程大，抗光、电干扰能力强等。

     利用激光的高方向性、高单色性和高亮度等特点可实现无接触远距离测量。激光传感器常用于长度（ZLS-Px）、距离（LDM4x）、振动（ZLDS10X）、速度（LDM30x）、方位等物理量的测量，还可用于探伤和大气污染物的监测等。

**▲压力传感器**

　　压力传感器引是工业实践中最为常用的一种传感器，其广泛应用于各种工业自控环境，涉及水利水电、铁路交通、智能建筑、生产自控、航空航天、军工、石化、油井、电力、船舶、机床、管道等众多行业。

**▲电导传感器**

　　它是通过测量溶液的电导值来间接测量离子浓度的流程仪表（一体化传感器），可在线连续检测工业过程中水溶液的电导率。

**▲生物传感器**

　　生物传感器是用生物活性材料（酶、蛋白质、DNA、抗体、抗原、生物膜等）与物理化学换能器有机结合的一门交叉学科。用现代微电子和自动化仪表技术进行生物信号的再加工，构成各种可以使用的生物传感器分析装置、仪器和系统。

生物传感器的原理

     待测物质经扩散作用进入生物活性材料，经分子识别，发生生物学反应，产生的信息继而被相应的物理或化学换能器转变成可定量和可处理的电信号，再经二次仪表放大并输出，便可知道待测物浓度。

**▲温度传感器**

　　温度传感器的种类很多，经常使用的有热电阻：PT100、PT1000、Cu50、Cu100；热电偶：B、E、J、K、S等。温度传感器不但种类繁多，而且组合形式多样，应根据不同的场所选用合适的产品。

     测温原理：根据电阻阻值、热电偶的电势随温度不同发生有规律的变化的原理，我们可以得到所需要测量的温度值。
**▲智能传感器**

　　智能传感器的功能是通过模拟人的感官和大脑的协调动作，结合长期以来测试技术的研究和实际经验而提出来的。是一个相对独立的智能单元，它的出现对原来硬件性能苛刻要求有所减轻，而靠软件帮助可以使传感器的性能大幅度提高。
 
    1、信息存储和传输——随着全智能集散控制系统（SmartDistributedSystem）的飞速发展，对智能单元要求具备通信功能，用通信网络以数字形式进行双向通信，这也是智能传感器关键标志之一。
    2、自补偿和计算功能——智能传感器的自补偿和计算功能为传感器的温度漂移和非线性补偿开辟了新的道路。放宽传感器加工精密度要求，只要能保证传感器的重复性好，利用微处理器对测试的信号通过软件计算，采用多次拟合和差值计算方法对漂移和非线性进行补偿，从而能获得较精确的测量结果压力传感器。
    3、自检、自校、自诊断功能——采用智能传感器情况则大有改观，首先自诊断功能在电源接通时进行自检，诊断测试以确定组件有无故障。其次根据使用时间可以在线进行校正，微处理器利用存在EPROM内的计量特性数据进行对比校对。
    4、复合敏感功能——观察周围的自然现象，常见的信号有声、光、电、热、力、化学等。敏感元件测量一般通过两种方式：直接和间接的测量。而智能传感器具有复合功能，能够同时测量多种物理量和化学量，给出能够较全面反映物质运动规律的信息。
**▲24GHz雷达**

　　24GHz雷达传感器采用高频微波来测量物体运动速度、距离、运动、方向、方位角度信息，采用平面微带天线设计，具有体积小、质量轻、灵敏度高、稳定强等特点，广泛运用于智能交通、工业控制、安防、体育运动、智能家居等行业。工业和信息化部2012年11月19日正式发布了《工业和信息化部关于发布24GHz频段短距离车载雷达设备使用频率的通知》（工信部无〔2012〕548号），明确提出24GHz频段短距离车载雷达设备作为车载雷达设备的规范。



### ii.什么叫事件驱动编程?

**▲事件驱动编程**

　　为需要处理的事件编写相应的事件处理程序。要理解事件驱动和程序，就需要与非事件驱动的程序进行比较。实际上，现代的程序大多是事件驱动的，比如多线程的程序，肯定是事件驱动的。早期则存在许多非事件驱动的程序，这样的程序，在需要等待某个条件触发时，会不断地检查这个条件，直到条件满足，这是很浪费cpu时间的。而事件驱动的程序，则有机会释放cpu从而进入睡眠态（注意是有机会，当然程序也可自行决定不释放cpu），当事件触发时被操作系统唤醒，这样就能更加有效地使用cpu.

**特点** delphi和java编程 

**类型** 事件处理程序 

**产品**windows,linux,nucleus,vxworks

**事件驱动编程：**

　　为需要处理的事件编写相应的事件处理程序。代码在事件发生时执行。

delphi和java编程特点

n事件(event)表示程序某件事发生的信号。事件分为：

o外部事件：由外部用户动作产生的事件。例如，点击鼠标、按键盘。

o内部事件：由系统内部产生的事件。例如，定时器事件。

n源对象(source object)是产生事件的对象。

**事件驱动的一般步骤：**

1、确定响应事件的元素

2、为指定元素确定需要响应的事件类型

3、为指定元素的指定事件编写相应的事件处理程序

4、将事件处理程序绑定到指定元素的指定事件

每个事件对象包含与该事件相关的属性。getSource()方法可以获取事件的源对象。

####事件驱动通常和传感器如何协助?

   　　微嵌入式系统和传感器网络节点中，事件驱动编程是一个受欢迎的模型。尽管事件驱动编程能降低内存开销，但由于它强制使用状态机编程风格，使许多程序难以编写、维护和调试。我们展示了一个新颖的被叫做protothread的编程抽象，使得在每个protothread只消耗两个字节的前提下，可以用类似线程的风格来编写事件驱动程序。我们检查了很多采用事件驱动状态机制实现的程序，若采用protothread机制改写，将大大减小其复杂性。对于这些被检查的大多数程序，其状态机可以完全被移除。而剩下的那部分程序，其状态机数量也能被彻底地减小。通过protothread机制，代码的行数能减小三分之一。基于protothread的程序，其执行时间与一些处理器的周期相当。


　　　　包括传感器网络在内，在内存受限的嵌入式系统中，最常见的编程模型是事件驱动编程。相比较于多线程系统，事件驱动系统不需要为每个线程栈分配内存空间，这更符合低内存需求。基于这个原因，传感器网络中的许多系统个，包括TinyOS、SOS和Contiki都采用事件驱动模型。根据Hill等人所说的：“在TinyOS中，我们采用事件驱动模型，使得高并发性能在非常小的空间中处理。而基于栈的编程方法需要为每个执行内容保留栈空间。”事件驱动编程也常常被用于那些由于内存受限而不能满足通用目的的嵌入式操作系统中。

　　事件驱动模型不支持阻塞等待。因此，这些系统中的程序通常需要使用状态机来实现上层逻辑的控制流。状态机属于系统规范的一部分。与状态机不同，控制流状态机通常没有正式的规范，是由程序员凭空创造的。经验表明，通过确切的状态机来管理控制流将使得事件驱动编程更加复杂。正如Levis等人所说：“这种方法是为响应处理、与硬件通信而设计的，但是由于逻辑阻塞队列必须使用状态机风格实现，使高级操作队列复杂化。”此外，在微嵌入式系统中受欢迎的语言，比如C和nesC，都没有提供任何用于帮助程序员管理状态机的工具。 

摘自 
  
http://www.data321.com/biancheng/20160513361/ShiJianQuDongBianChengShiYiGeShou


可参考相关论文

http://www.docin.com/p-1279163758.html





### iii.什么叫伺服器?

**▲服务器（server）**

　　也称伺服器，是提供计算服务的设备。由于服务器需要响应服务请求，并进行处理，因此一般来说服务器应具备承担服务并且保障服务的能力。

　　服务器的构成包括处理器、硬盘、内存、系统总线等，和通用的计算机架构类似，但是由于需要提供高可靠的服务，因此在处理能力、稳定性、可靠性、安全性、可扩展性、可管理性等方面要求较高。

　　在网络环境下，根据服务器提供的服务类型不同，分为文件服务器，数据库服务器，应用程序服务器，WEB服务器等。


**▲分类**

　　按照体系架构来区分，服务器主要分为两类：

非x86服务器

    包括大型机、小型机和UNIX服务器，它们是使用RISC（精简指令集）或EPIC（并行指令代码）处理器，并且主要采用UNIX和其它专用操作系统的服务器，精简指令集处理器主要有IBM公司的POWER和PowerPC处理器，

    SUN与富士通公司合作研发的SPARC处理器、EPIC处理器主要是Intel研发的安腾处理器等。这种服务器价格昂贵，体系封闭，但是稳定性好，性能强，主要用在金融、电信等大型企业的核心系统中。
x86服务器

    又称CISC（复杂指令集）架构服务器，即通常所讲的PC服务器，它是基于PC机体系结构，使用Intel或其它兼容x86指令集的处理器芯片和Windows操作系统的服务器。价格便宜、兼容性好、稳定性较差、安全性不算太高，主要用在中小企业和非关键业务中。
**▲按应用层次划分**

1、入门级服务器
这类服务器是最基础的一类服务器，也是最低档的服务器。

通常只具备以下几方面特性：

    1有一些基本硬件的冗余，如硬盘、电源、风扇等，但不是必须的；
    2通常采用SCSI接口硬盘，也有采用SATA串行接口的；
	3部分部件支持热插拔，如硬盘和内存等，这些也不是必须的；
	4通常只有一个CPU，但不是绝对；
	5内存容量最大支持16GB。
　　这类服务器主要采用Windows或者NetWare网络操作系统，可以充分满足办公室型的中小型网络用户的文件共享、数据处理、Internet接入及简单数据库应用的需求。这种服务器与一般的PC机很相似，有很多小型公司干脆就用一台高性能的品牌PC机作为服务器，所以这种服务器无论在性能上，还是价格上都与一台高性能PC品牌机相差无几。

2、工作组服务器

　　工作组服务器是一个比入门级高一个层次的服务器，但仍属于低档服务器之类。从这个名字也可以看出，它只能连接一个工作组（50台左右）那么多用户，网络规模较小，服务器的稳定性也不像下面我们要讲的企业级服务器那样高的应用环境，当然在其它性能方面的要求也相应要低一些。

工作组服务器具有以下几方面的主要特点：

	1.通常仅支持单或双CPU结构的应用服务器（但也不是绝对的，特别是SUN的工作组服务器就有能支持多达4个处理器的工作组服务器，当然这类型的服务器价格方面也就有些不同了）。
	2.可支持大容量的ECC内存和增强服务器管理功能的SM总线。
	3.功能较全面、可管理性强，且易于维护。
	4.采用Intel服务器CPU和Windows/NetWare网络操作系统，但也有一部分是采用UNIX系列操作系统的。
	5.可以满足中小型网络用户的数据处理、文件共享、Internet接入及简单数据库应用的需求。

　　工作组服务器较入门级服务器来说性能有所提高，功能有所增强，有一定的可扩展性，但容错和冗余性能仍不完善、也不能满足大型数据库系统的应用，但价格也比前者贵许多，一般相当于2~3台高性能的PC品牌机总价。

3、部门级服务器

　　这类服务器是属于中档服务器之列，一般都是支持双CPU以上的对称处理器结构，具备比较完全的硬件配置，如磁盘阵列、存储托架等。它是企业网络中分散的各基层数据采集单位与最高层的数据中心保持顺利连通的必要环节，一般为中型企业的首选，也可用于金融、邮电等行业。
部门级服务器一般采用IBM、SUN和HP各自开发的CPU芯片，这类芯片一般是RISC结构，所采用的操作系统一般是UNIX系列操作系统，LINUX也在部门级服务器中得到了广泛应用。
部门级服务器可连接100个左右的计算机用户、适用于对处理速度和系统可靠性高一些的中小型企业网络，由于这类服务器需要安装比较多的部件，所以机箱通常较大，采用机柜式的。

4、企业级服务器

　　企业级服务器是属于高档服务器行列，正因如此，能生产这种服务器的企业也不是很多，但同样因没有行业标准硬件规定企业级服务器需达到什么水平，所以也看到了许多本不具备开发、生产企业级服务器水平的企业声称自己有了企业级服务器。企业级服务器最起码是采用4个以上CPU的对称处理器结构，有的高达几十个。

    另外一般还具有独立的双PCI通道和内存扩展板设计，具有高内存带宽、大容量热插拔硬盘和热插拔电源、超强的数据处理能力和群集性能等。这种企业级服务器的机箱就更大了，一般为机柜式的，有的还由几个机柜来组成，像大型机一样。
    企业级服务器产品除了具有部门级服务器全部服务器特性外，最大的特点就是它还具有高度的容错能力、优良的扩展性能、故障预报警功能、在线诊断和RAM、PCI、CPU等具有热插拔性能。有的企业级服务器还引入了大型计算机的许多优良特性。这类服务器所采用的芯片也都是几大服务器开发、生产厂商自己开发的独有CPU芯片，所采用的操作系统一般也是UNIX（Solaris）或LINUX。
    企业级服务器适合运行在需要处理大量数据、高处理速度和对可靠性要求极高的金融、证券、交通、邮电、通信或大型企业。企业级服务器用于联网计算机在数百台以上、对处理速度和数据安全要求非常高的大型网络。企业级服务器的硬件配置最高，系统可靠性也最强。
    服务器中配置固态硬盘已经是一个普遍的选择，特别是如果只有很小比例的服务器存在性能问题的话尤其如此。固态硬盘可以帮助用户解决服务器性能的瓶颈。固态硬盘也可以让高速存储更加的接近处理器并将共享存储网络这个潜在的瓶颈剔除掉。目前有三种固态硬盘的形式作为达标：即硬盘驱动型SSD，SSD DIMM和PCIs SSD。
**▲CPU**
　　服务器的CPU仍按CPU的指令系统来区分，通常分为CISC型CPU和RISC型CPU两类，后来又出现了一种64位的VLIM(Very Long Instruction Word超长指令集架构)指令系统的CPU。CISC型CPU。RISC型CPU。

　　CISC是英文“Complex Instruction Set Computer”的缩写，中文意思是“复杂指令集”，它是指英特尔生产的x86(intel CPU的一种命名规范)系列CPU及其兼容CPU(其他厂商如AMD，VIA等生产的CPU)，它基于PC机(个人电脑)体系结构。这种CPU一般都是32位的结构，所以我们也把它称为IA-32 CPU。(IA: Intel Architecture，Intel架构)。CISC型CPU主要有intel的服务器CPU和AMD的服务器CPU两类。

　　RISC是英文“Reduced Instruction Set Computer ”的缩写，中文意思是“精简指令集”。它是在CISC(Complex Instruction Set Computer)指令系统基础上发展起来的，相对于CISC型CPU ，RISC型CPU不仅精简了指令系统，还采用了一种叫做“超标量和超流水线结构”，架构在同等频率下，采用RISC架构的CPU比CISC架构的CPU性能高很多，这是由CPU的技术特征决定的。RISC型CPU与Intel和AMD的CPU在软件和硬件上都不兼容。

**▲外形**

机架式

    机架式服务器的外形看来不像计算机，而像交换机，有1U（1U=1.75英寸=4.445CM）、2U、4U等规格。机架式服务器安装在标准的19英寸机柜里面。这种结构的多为功能型服务器。
	对于信息服务企业（如ISP/ICP/ISV/IDC）而言，选择服务器时首先要考虑服务器的体积、功耗、发热量等物理参数，因为信息服务企业通常使用大型专用机房统一部署和管理大量的服务器资源，机房通常设有严密的保安措施、良好的冷却系统、多重备份的供电系统，其机房的造价相当昂贵。如何在有限的空间内部署更多的服务器直接关系到企业的服务成本，通常选用机械尺寸符合19英寸工业标准的机架式服务器。机架式服务器也有多种规格，例如1U（4.45cm高）、2U、4U、6U、8U等。通常1U的机架式服务器最节省空间，但性能和可扩展性较差，适合一些业务相对固定的使用领域。4U以上的产品性能较高，可扩展性好，一般支持4个以上的高性能处理器和大量的标准热插拔部件。管理也十分方便，厂商通常提供以相应的管理和监控工具，适合大访问量的关键应用，但体积较大，空间利用率不高。

刀片

	所谓刀片服务器(准确的说应叫做刀片式服务器)是指在标准高度的机架式机箱内可插装多个卡式的服务器单元，实现高可用和高密度。每一块"刀片"实际上就是一块系统主板。它们可以通过"板载"硬盘启动自己的操作系统，如Windows NT/2000、Linux等，类似于一个个独立的服务器，在这种模式下，每一块母板运行自己的系统，服务于指定的不同用户群，相互之间没有关联，因此相较于机架式服务器和机柜式服务器，单片母板的性能较低。不过，管理员可以使用系统软件将这些母板集合成一个服务器集群。在集群模式下，所有的母板可以连接起来提供高速的网络环境，并同时共享资源，为相同的用户群服务。在集群中插入新的"刀片"，就可以提高整体性能。而由于每块"刀片"都是热插拔的，所以，系统可以轻松地进行替换，并且将维护时间减少到最小。

塔式

	塔式服务器应该是大家见得最多，也最容易理解的一种服务器结构类型，因为它的外形以及结构都跟我们平时使用的立式PC差不多，当然，由于服务器的主板扩展性较强、插槽也多出一堆，所以个头比普通主板大一些，因此塔式服务器的主机机箱也比标准的ATX机箱要大，一般都会预留足够的内部空间以便日后进行硬盘和电源的冗余扩展。
	由于塔式服务器的机箱比较大，服务器的配置也可以很高，冗余扩展更可以很齐备，所以它的应用范围非常广，应该说使用率最高的一种服务器就是塔式服务器。我们平时常说的通用服务器一般都是塔式服务器，它可以集多种常见的服务应用于一身，不管是速度应用还是存储应用都可以使用塔式服务器来解决。

机柜式

	在一些高档企业服务器中由于内部结构复杂，内部设备较多，有的还具有许多不同的设备单元或几个服务器都放在一个机柜中，这种服务器就是机柜式服务器。机柜式通常由机架式、刀片式服务器再加上其它设备组合而成。
	对于证券、银行、邮电等重要企业，则应采用具有完备的故障自修复能力的系统，关键部件应采用冗余措施，对于关键业务使用的服务器也可以采用双机热备份高可用系统或者是高性能计算机，这样的系统可用性就可以得到很好的保证。

**▲操作系统**

　　服务器平台的操作系统。Unix操作系统，由于是Unix的后代，大多都有较好的作服务器平台的功能。

**▲软件**

　　服务器软件的定义如前面所述，服务器软件工作在客户端-服务器（C/S）或浏览器-服务器(B/S)的方式，有很多形式的服务器，常用的包括：

	文件服务器（File Server）
	数据库服务器（Database Server）
	邮件服务器（Mail Server
	网页服务器（Web Server）
	FTP服务器（FTP Server）
	域名服务器（DNS Server）
	应用程序服务器（AP Server）
	代理服务器（Proxy Server）
	电脑名称转换服务器
